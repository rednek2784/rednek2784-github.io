"use strict";(self.webpackChunkstore=self.webpackChunkstore||[]).push([[41],{1041:(R,g,l)=>{l.r(g),l.d(g,{ProductModule:()=>k});var c=l(6895),f=l(4466),u=l(1765),t=l(8274);let _=(()=>{class n{constructor(e){this.router=e}canActivate(e,o){const i=+e.paramMap.get("id");return!isNaN(i)||(alert("not a valid id"),this.router.navigate(["/products"]),!1)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(u.F0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var m=l(2935);const h=function(n){return["/products",n,"specification"]},v=function(n){return["/products",n,"reviews"]};function C(n,r){if(1&n&&(t.TgZ(0,"div")(1,"h1"),t._uU(2),t.qZA(),t.TgZ(3,"h3"),t._uU(4),t.qZA(),t.TgZ(5,"ul",4)(6,"li",5)(7,"a",6),t._uU(8,"Specification"),t.qZA()(),t.TgZ(9,"li",5)(10,"a",7),t._uU(11,"Reviews"),t.qZA()()()()),2&n){const e=r.ngIf;t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.description),t.xp6(3),t.Q6J("routerLink",t.VKq(4,h,e.id)),t.xp6(3),t.Q6J("routerLink",t.VKq(6,v,e.id))}}let Z=(()=>{class n{constructor(e,o,i){this.route=e,this.ps=o,this.router=i}ngOnInit(){this.route.paramMap.subscribe(e=>{this.id=e.get("id"),this.id&&(this.product$=this.ps.getProductId(this.id))})}goBack(){setTimeout(()=>{this.router.navigate(["/products"])},1e3)}goPrev(){this.id&&this.router.navigate(["/products",+this.id-1])}goNext(){this.id&&this.router.navigate(["/products",+this.id+1])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.gz),t.Y36(m.M),t.Y36(u.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-detail"]],decls:12,vars:3,consts:[[1,"row"],[1,"col"],[1,"btn","btn-primary",3,"click"],[4,"ngIf"],[1,"nav","nav-tabs"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link","active",3,"routerLink"],["routerLinkActive","active",1,"nav-link",3,"routerLink"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t.NdJ("click",function(){return o.goBack()}),t._uU(3,"Go Back"),t.qZA()(),t.TgZ(4,"div",1)(5,"button",2),t.NdJ("click",function(){return o.goPrev()}),t._uU(6,"prev"),t.qZA(),t.TgZ(7,"button",2),t.NdJ("click",function(){return o.goNext()}),t._uU(8,"next"),t.qZA()()(),t.YNc(9,C,12,8,"div",3),t.ALo(10,"async"),t._UZ(11,"router-outlet")),2&e&&(t.xp6(9),t.Q6J("ngIf",t.lcZ(10,1,o.product$)))},dependencies:[c.O5,u.lC,u.yS,u.Od,c.Ov]}),n})();var T=l(8505),y=l(262),x=l(2843),s=l(433);function A(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"i",3),t.NdJ("click",function(){const d=t.CHM(e).index,a=t.oxw();return t.KtG(a.changeRating(d+1))}),t.qZA()}}let M=(()=>{class n{constructor(){this.rating=4.5,this.ratingChange=new t.vpe,this.starWidth=0,this.ratings=Array.from(Array(5).keys())}ngOnChanges(){this.starWidth=16*this.rating}ngOnInit(){}changeRating(e){this.ratingChange.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-star"]],inputs:{rating:"rating"},outputs:{ratingChange:"ratingChange"},features:[t.TTD],decls:3,vars:3,consts:[[1,"crop"],[2,"width","80px"],["class","bi bi-star-fill",3,"click",4,"ngFor","ngForOf"],[1,"bi","bi-star-fill",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,A,1,0,"i",2),t.qZA()()),2&e&&(t.Udp("width",o.starWidth,"px"),t.xp6(2),t.Q6J("ngForOf",o.ratings))},dependencies:[c.sg],styles:[".crop[_ngcontent-%COMP%]{overflow:hidden;cursor:pointer}"]}),n})(),w=(()=>{class n{transform(e,o=" "){return e.replace("-",o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"convertToSpaces",type:n,pure:!0}),n})();const P=function(n){return["/products",n]};function F(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",7),t._UZ(2,"img",8),t.TgZ(3,"div",9)(4,"h5",10)(5,"span",11),t._uU(6),t.ALo(7,"uppercase"),t.qZA()(),t.TgZ(8,"p",12),t._uU(9),t.ALo(10,"slice"),t.qZA(),t.TgZ(11,"p"),t._uU(12),t.ALo(13,"convertToSpaces"),t.qZA(),t.TgZ(14,"p")(15,"strong"),t._uU(16),t.ALo(17,"currency"),t.qZA()(),t.TgZ(18,"p")(19,"app-star",13),t.NdJ("ratingChange",function(i){const a=t.CHM(e).$implicit,p=t.oxw(2);return t.KtG(p.onRatingChange(a,i))}),t.qZA()(),t.TgZ(20,"button",14),t.NdJ("click",function(i){const a=t.CHM(e).$implicit,p=t.oxw(2);return t.KtG(p.addToCart(i,a))}),t._uU(21,"Add to Cart"),t.qZA()()()()}if(2&n){const e=r.$implicit,o=t.oxw(2);t.xp6(2),t.Q6J("src",e.image,t.LSH)("alt",e.name)("ngStyle",o.myStyle),t.xp6(2),t.Q6J("routerLink",t.VKq(24,P,e.id)),t.xp6(2),t.Oqu(t.lcZ(7,10,e.name)),t.xp6(2),t.Q6J("title",e.description),t.xp6(1),t.Oqu(t.Dn7(10,12,e.description,0,50)),t.xp6(3),t.Oqu(t.xi3(13,16,e.code,"/")),t.xp6(4),t.Oqu(t.gM2(17,19,e.price,"INR","symbol","1.2-2")),t.xp6(3),t.Q6J("rating",e.rating)}}function J(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",5),t.YNc(2,F,22,26,"div",6),t.ALo(3,"slice"),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",t.Dn7(3,1,e.filteredProducts,e.startIndex,e.endIndex))}}function b(n,r){1&n&&(t.TgZ(0,"div",15)(1,"div",16)(2,"div",17)(3,"span",18),t._uU(4,"Loading..."),t.qZA()()()())}function q(n,r){if(1&n&&(t.TgZ(0,"div",15)(1,"div",1)(2,"div",19),t._uU(3),t.qZA()()()),2&n){const e=t.oxw();t.xp6(3),t.hij(" ",e.errorMessage," ")}}let S=(()=>{class n{constructor(e){this.productService=e,this.myStyle={"height.px":200},this.startIndex=0,this.endIndex=6,this._filterBy="",this.currentDate=new Date,this.products=[],this.filteredProducts=this.products,this.errorMessage=null,this.loading=!0,this.product$=this.productService.getProducts().pipe((0,T.b)(o=>{this.loading=!1,this.products=o,this.filteredProducts=o}),(0,y.K)(o=>(this.loading=!1,this.errorMessage=o,(0,x._)(()=>""))))}get filterBy(){return this._filterBy}set filterBy(e){this._filterBy=e,this.filterProducts(e)}ngOnInit(){}addToCart(e,o){console.log(e),this.productService.incrementCartCount()}filterProducts(e){this.filteredProducts=this.products.filter(o=>o.name.toLowerCase().includes(e.toLowerCase()))}onRatingChange(e,o){console.log(o),e.rating=o}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.M))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-list"]],decls:10,vars:11,consts:[[1,"row","mb-3"],[1,"col"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngIf"],["class","row mt-5",4,"ngIf"],[1,"row","row-cols-md-3","row-cols-sm-2","row-cols-1","g-3","bg-purple"],["class","col",4,"ngFor","ngForOf"],[1,"card"],[1,"card-img-top",3,"src","alt","ngStyle"],[1,"card-body"],[1,"card-title",3,"routerLink"],["appHighlight",""],[1,"card-text",3,"title"],[3,"rating","ratingChange"],[1,"btn","btn-primary",3,"click"],[1,"row","mt-5"],[1,"col","text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],["role","alert",1,"alert","alert-danger"]],template:function(e,o){1&e&&(t._uU(0),t.ALo(1,"date"),t.TgZ(2,"div",0)(3,"div",1)(4,"input",2),t.NdJ("ngModelChange",function(d){return o.filterBy=d}),t.qZA(),t._uU(5),t.qZA()(),t.YNc(6,J,4,5,"ng-container",3),t.ALo(7,"async"),t.YNc(8,b,5,0,"div",4),t.YNc(9,q,4,1,"div",4)),2&e&&(t.hij("",t.xi3(1,6,o.currentDate,"dd-MM-yyyy"),"\n"),t.xp6(4),t.Q6J("ngModel",o.filterBy),t.xp6(1),t.hij(" ",o.filterBy," "),t.xp6(1),t.Q6J("ngIf",t.lcZ(7,9,o.product$)),t.xp6(2),t.Q6J("ngIf",o.loading),t.xp6(1),t.Q6J("ngIf",o.errorMessage))},dependencies:[c.sg,c.O5,c.PC,s.Fj,s.JJ,s.On,u.rH,M,c.Ov,c.gd,c.OU,c.H9,c.uU,w],styles:[".card-title[_ngcontent-%COMP%]{cursor:pointer}"]}),n})();class L{}function O(n,r){1&n&&(t.TgZ(0,"div",15),t._uU(1," Name is required "),t.qZA())}function U(n,r){if(1&n&&(t.TgZ(0,"option",16),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}const N=[{path:"",component:S,title:"products"},{path:":id",component:Z,title:"product-detail",canActivate:[_],children:[{path:"specification",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-specification"]],decls:2,vars:0,template:function(e,o){1&e&&(t.TgZ(0,"h1"),t._uU(1," Hello User"),t.qZA())}}),n})()},{path:"reviews",component:(()=>{class n{constructor(){this.ratings=[1,2,3,4,5],this.reviewForm=new L}ngOnInit(){}onSubmit(){console.log(this.reviewForm)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-reviews"]],decls:27,vars:9,consts:[[3,"ngSubmit"],["validsubmission","ngForm"],[1,"mb-3"],["for","author",1,"form-label"],["type","text","id","author","name","author","required","",1,"form-control",3,"ngModel","ngModelChange"],["firstName","ngModel"],["class","alert alert-danger","role","alert",4,"ngIf"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","rating"],["aria-label","Default select example","name","rating","required","",1,"form-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","description",1,"form-label"],["id","description","name","description","rows","3",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary"],["role","alert",1,"alert","alert-danger"],[3,"value"]],template:function(e,o){if(1&e){const i=t.EpF();t.TgZ(0,"form",0,1),t.NdJ("ngSubmit",function(){t.CHM(i);const a=t.MAs(1);return t.KtG(a.valid&&o.onSubmit())}),t.TgZ(2,"h3"),t._uU(3,"Review Form"),t.qZA(),t._uU(4),t.ALo(5,"json"),t.TgZ(6,"div",2)(7,"label",3),t._uU(8,"Author Name"),t.qZA(),t.TgZ(9,"input",4,5),t.NdJ("ngModelChange",function(a){return o.reviewForm.author=a}),t.qZA(),t.YNc(11,O,2,0,"div",6),t.qZA(),t.TgZ(12,"div",2)(13,"label",7),t._uU(14,"Email"),t.qZA(),t.TgZ(15,"input",8),t.NdJ("ngModelChange",function(a){return o.reviewForm.email=a}),t.qZA()(),t.TgZ(16,"div",2)(17,"label",9),t._uU(18,"Rating"),t.qZA(),t.TgZ(19,"select",10),t.NdJ("ngModelChange",function(a){return o.reviewForm.rating=a}),t.YNc(20,U,2,2,"option",11),t.qZA()(),t.TgZ(21,"div",2)(22,"label",12),t._uU(23,"Description"),t.qZA(),t.TgZ(24,"textarea",13),t.NdJ("ngModelChange",function(a){return o.reviewForm.description=a}),t.qZA()(),t.TgZ(25,"button",14),t._uU(26,"Submit"),t.qZA()()}if(2&e){const i=t.MAs(10);t.xp6(4),t.hij(" ",t.lcZ(5,7,o.reviewForm)," "),t.xp6(5),t.Q6J("ngModel",o.reviewForm.author),t.xp6(2),t.Q6J("ngIf",i.dirty&&i.invalid),t.xp6(4),t.Q6J("ngModel",o.reviewForm.email),t.xp6(4),t.Q6J("ngModel",o.reviewForm.rating),t.xp6(1),t.Q6J("ngForOf",o.ratings),t.xp6(4),t.Q6J("ngModel",o.reviewForm.description)}},dependencies:[c.sg,c.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.Q7,s.On,s.F,c.Ts],styles:[".ng-invalid.ng-dirty[_ngcontent-%COMP%]:not(form){border-left:5px solid red}.ng-valid.ng-dirty[_ngcontent-%COMP%]:not(form){border-left:5px solid green}"]}),n})()},{path:"",redirectTo:"specification",pathMatch:"full"}]}];let I=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.ez,u.Bz.forChild(N)]}),n})(),k=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.ez,f.m,I]}),n})()}}]);